ifblock BSP_PIC32MZ_EF_SK_MAXTOUCH_XPLAINED_PRO_3_5

menu "Select BSP Features"
	depends on USE_BSP
	depends on BSP_PIC32MZ_EF_SK_MAXTOUCH_XPLAINED_PRO_3_5

config BSP_USART_BRIDGE_PIC32MZ_EF_SK_MAXTOUCH_XPLAINED_PRO_3_5
	bool "Use USART to USB Bridge"
	depends on USE_BSP
	depends on BSP_PIC32MZ_EF_SK_MAXTOUCH_XPLAINED_PRO_3_5
	default y if BSP_USART_BRIDGE_NEEDED
	default n
	set BSP_PIN_61_FUNCTION_TYPE to "U2TX" if BSP_USART_BRIDGE_PIC32MZ_EF_SK_MAXTOUCH_XPLAINED_PRO_3_5
	set BSP_PIN_61_FUNCTION_NAME to "USART to USB Bridge (BSP)" if BSP_USART_BRIDGE_PIC32MZ_EF_SK_MAXTOUCH_XPLAINED_PRO_3_5
	set BSP_PIN_14_FUNCTION_TYPE to "U2RX" if BSP_USART_BRIDGE_PIC32MZ_EF_SK_MAXTOUCH_XPLAINED_PRO_3_5
	set BSP_PIN_14_FUNCTION_NAME to "USART to USB Bridge (BSP)" if BSP_USART_BRIDGE_PIC32MZ_EF_SK_MAXTOUCH_XPLAINED_PRO_3_5

config BSP_USART_ID_PIC32MZ_EF_SK_MAXTOUCH_XPLAINED_PRO_3_5
	int "USART Driver Instance Index"
	depends on USE_BSP
	depends on BSP_PIC32MZ_EF_SK_MAXTOUCH_XPLAINED_PRO_3_5
	depends on BSP_USART_BRIDGE_PIC32MZ_EF_SK_MAXTOUCH_XPLAINED_PRO_3_5
	range 0 0 if DRV_USART_INSTANCES_NUMBER = 1
	range 0 1 if DRV_USART_INSTANCES_NUMBER = 2
	range 0 2 if DRV_USART_INSTANCES_NUMBER = 3
	range 0 3 if DRV_USART_INSTANCES_NUMBER = 4
	range 0 4 if DRV_USART_INSTANCES_NUMBER = 5
	range 0 5 if DRV_USART_INSTANCES_NUMBER = 6
	range 0 6 if DRV_USART_INSTANCES_NUMBER = 7
	range 0 7 if DRV_USART_INSTANCES_NUMBER = 8
	range 0 8 if DRV_USART_INSTANCES_NUMBER = 9
	default 0
	set DRV_USART_PERIPHERAL_ID_IDX0 optionally to "USART_ID_2" if (BSP_USART_ID_PIC32MZ_EF_SK_MAXTOUCH_XPLAINED_PRO_3_5 = 0 && BSP_USART_BRIDGE_PIC32MZ_EF_SK_MAXTOUCH_XPLAINED_PRO_3_5)
	set DRV_USART_PERIPHERAL_ID_IDX1 optionally to "USART_ID_2" if (BSP_USART_ID_PIC32MZ_EF_SK_MAXTOUCH_XPLAINED_PRO_3_5 = 1 && BSP_USART_BRIDGE_PIC32MZ_EF_SK_MAXTOUCH_XPLAINED_PRO_3_5)
	set DRV_USART_PERIPHERAL_ID_IDX2 optionally to "USART_ID_2" if (BSP_USART_ID_PIC32MZ_EF_SK_MAXTOUCH_XPLAINED_PRO_3_5 = 2 && BSP_USART_BRIDGE_PIC32MZ_EF_SK_MAXTOUCH_XPLAINED_PRO_3_5)
	set DRV_USART_PERIPHERAL_ID_IDX3 optionally to "USART_ID_2" if (BSP_USART_ID_PIC32MZ_EF_SK_MAXTOUCH_XPLAINED_PRO_3_5 = 3 && BSP_USART_BRIDGE_PIC32MZ_EF_SK_MAXTOUCH_XPLAINED_PRO_3_5)
	set DRV_USART_PERIPHERAL_ID_IDX4 optionally to "USART_ID_2" if (BSP_USART_ID_PIC32MZ_EF_SK_MAXTOUCH_XPLAINED_PRO_3_5 = 4 && BSP_USART_BRIDGE_PIC32MZ_EF_SK_MAXTOUCH_XPLAINED_PRO_3_5)
	set DRV_USART_PERIPHERAL_ID_IDX5 optionally to "USART_ID_2" if (BSP_USART_ID_PIC32MZ_EF_SK_MAXTOUCH_XPLAINED_PRO_3_5 = 5 && BSP_USART_BRIDGE_PIC32MZ_EF_SK_MAXTOUCH_XPLAINED_PRO_3_5)
	set DRV_USART_PERIPHERAL_ID_IDX6 optionally to "USART_ID_2" if (BSP_USART_ID_PIC32MZ_EF_SK_MAXTOUCH_XPLAINED_PRO_3_5 = 6 && BSP_USART_BRIDGE_PIC32MZ_EF_SK_MAXTOUCH_XPLAINED_PRO_3_5)
	set DRV_USART_PERIPHERAL_ID_IDX7 optionally to "USART_ID_2" if (BSP_USART_ID_PIC32MZ_EF_SK_MAXTOUCH_XPLAINED_PRO_3_5 = 7 && BSP_USART_BRIDGE_PIC32MZ_EF_SK_MAXTOUCH_XPLAINED_PRO_3_5)
	set DRV_USART_PERIPHERAL_ID_IDX8 optionally to "USART_ID_2" if (BSP_USART_ID_PIC32MZ_EF_SK_MAXTOUCH_XPLAINED_PRO_3_5 = 8 && BSP_USART_BRIDGE_PIC32MZ_EF_SK_MAXTOUCH_XPLAINED_PRO_3_5)


config BSP_CONFIGURE_PIC32MZ_EF_SK_MAXTOUCH_XPLAINED_PRO_3_5
	bool
	depends on USE_BSP && BSP_PIC32MZ_EF_SK_MAXTOUCH_XPLAINED_PRO_3_5
	default y
	select BSP_TRIGGER
	select BSP_POSC_24MHz
	select BSP_USE_USBSWITCH

	select USE_GFX_ATMXT_XPRO_320x480_SPI_4LINE_NEEDED if BSP_GRAPHICS_NEEDED
    set LIBARIA_GENERATE_TOUCH to n if USE_LIBARIA
	select DRV_SPI_USE_DRIVER_NEEDED if BSP_GRAPHICS_NEEDED

	set BSP_PIN_59_FUNCTION_NAME to "BSP_SWITCH_1"
	set BSP_PIN_59_FUNCTION_TYPE to "SWITCH"
	set BSP_PIN_60_FUNCTION_NAME to "BSP_SWITCH_2"
	set BSP_PIN_60_FUNCTION_TYPE to "SWITCH"
	set BSP_PIN_43_FUNCTION_NAME to "BSP_LED_1"
	set BSP_PIN_43_FUNCTION_TYPE to "LED_AH"
	set BSP_PIN_44_FUNCTION_NAME to "BSP_LED_2"
	set BSP_PIN_44_FUNCTION_TYPE to "LED_AH"
	set BSP_PIN_45_FUNCTION_NAME to "BSP_LED_3"
	set BSP_PIN_45_FUNCTION_TYPE to "LED_AH"
	set BSP_PIN_25_FUNCTION_NAME to "USB_VBUS_SWITCH"
	set BSP_PIN_25_FUNCTION_TYPE to "VBUS"

	set BSP_PIN_14_FUNCTION_NAME to "BSP_ILI9488_SPI_CSX"
	set BSP_PIN_14_FUNCTION_TYPE to "GPIO_OUT"
	set BSP_PIN_61_FUNCTION_NAME to "BSP_DisplayBacklight" if !BSP_USART_BRIDGE_PIC32MZ_EF_SK_MAXTOUCH_XPLAINED_PRO_3_5
	set BSP_PIN_61_FUNCTION_TYPE to "GPIO_OUT" if !BSP_USART_BRIDGE_PIC32MZ_EF_SK_MAXTOUCH_XPLAINED_PRO_3_5
	set BSP_PIN_95_FUNCTION_NAME to "BSP_DisplayReset"
	set BSP_PIN_95_FUNCTION_TYPE to "GPIO_OUT"

	set BSP_PIN_104_FUNCTION_NAME to "BSP_ILI9488_SPI_DCX"
	set BSP_PIN_104_FUNCTION_TYPE to "GPIO_OUT"
	set BSP_PIN_90_FUNCTION_NAME to "BSP_ILI9488_SPI_SDI"
	set BSP_PIN_90_FUNCTION_TYPE to "SDI1"
	set BSP_PIN_31_FUNCTION_NAME to "BSP_ILI9488_SPI_SDO"
	set BSP_PIN_31_FUNCTION_TYPE to "SDO1"
	set BSP_PIN_109_FUNCTION_NAME to "BSP_ILI9488_SPI_SCK"
	set BSP_PIN_109_FUNCTION_TYPE to "SCK1"

endmenu


menu "Custom Board Configurations for PIC32MZ EF Starter Kit with maXTouch Xplained Pro 3.5-inch Display"
    depends on USE_BSP

import PIC32MZ_EF_SK_MAXTOUCH_XPLAINED_PRO_3_5_IMPORT_ICB "Select Custom Configuration To Import" 
    default "../*/*.mhc"
    ---help---
    IDH_HTML_Board_Support_Package_Help
    ---endhelp---

template BSP_pic32mz_ef_sk_maxtouch_xplained_pro_3_5_H "$HARMONY_VERSION_PATH/bsp/pic32mz_ef_sk+maxtouch_xplained_pro_3_5/templates/bsp.h.ftl" to "$PROJECT_HEADER_FILES/app/system_config/$CONFIGURATION/bsp/bsp.h"
template BSP_pic32mz_ef_sk_maxtouch_xplained_pro_3_5_C "$HARMONY_VERSION_PATH/bsp/pic32mz_ef_sk+maxtouch_xplained_pro_3_5/templates/bsp.c.ftl" to "$PROJECT_SOURCE_FILES/app/system_config/$CONFIGURATION/bsp/bsp.c"

compiler BSP_COMPILER_INCLUDE_pic32mz_ef_sk_maxtouch_xplained_pro_3_5 includepath "$PROJECT_HEADER_FILES/system_config/$CONFIGURATION/bsp"
endmenu

endif
